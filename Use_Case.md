# Спецификация Use Cases

## 1.1. Модуль аутентификации и регистрации

### UC-001: Регистрация пользователя

**Акторы:** Клиент  
**Цель:** Создать новую учетную запись и получить доступ к личному кабинету  
**Предусловия:** Пользователь не зарегистрирован в системе  

**Основной сценарий:**
1. Пользователь вводит номер телефона
2. Система отправляет СМС с кодом подтверждения
3. Пользователь вводит полученный код
4. Система проверяет код и создаёт учётную запись
5. Система предоставляет доступ к личному кабинету

**Альтернативные сценарии:**
- Код подтверждения неверный: система запрашивает повторный ввод
- Номер телефона уже зарегистрирован: система предлагает восстановить доступ

---

### UC-002: Авторизация по номеру телефона

**Акторы:** Клиент, Мойщик, Кассир, Директор  
**Цель:** Получить доступ к системе с существующей учетной записью  
**Предусловия:** Пользователь уже зарегистрирован в системе  

**Основной сценарий:**
1. Пользователь вводит номер телефона
2. Система отправляет СМС с кодом подтверждения
3. Пользователь вводит полученный код
4. Система проверяет код и предоставляет доступ

**Альтернативные сценарии:**
- Код подтверждения неверный: система запрашивает повторный ввод

---

## 1.2. Модуль бронирования услуг

### UC-003: Выбор автомойки

**Акторы:** Клиент  
**Цель:** Выбрать подходящую автомойку и ознакомиться с услугами  
**Предусловия:** -  

**Основной сценарий:**
1. Пользователь выбирает город
2. Система отображает список доступных моек
3. Пользователь выбирает конкретную мойку
4. Система показывает доступные услуги и цены

**Альтернативные сценарии:**
- В выбранном городе нет доступных моек: система предлагает выбрать другой город

---

### UC-004: Бронирование времени

**Акторы:** Клиент  
**Цель:** Забронировать конкретный временной слот на выбранной мойке  
**Предусловия:** Пользователь авторизован, выбрал мойку  

**Основной сценарий:**
1. Пользователь выбирает дату и время
2. Система показывает доступные слоты
3. Пользователь выбирает подходящий слот
4. Система резервирует время
5. Система отправляет подтверждение брони

**Альтернативные сценарии:**
- Выбранный слот уже занят: система предлагает альтернативные варианты

---

## 1.3. Модуль оплаты

### UC-005: Оплата услуги онлайн

**Акторы:** Клиент  
**Цель:** Оплатить услугу через платёжный шлюз  
**Предусловия:** -  

**Основной сценарий:**
1. Пользователь выбирает способ оплаты
2. Система перенаправляет на платёжный шлюз
3. Пользователь вводит платёжные данные
4. Система подтверждает оплату
5. Данные передаются в 1С систему

**Альтернативные сценарии:**
- Ошибка оплаты: система предлагает повторить операцию или выбрать другой способ оплаты

---

### UC-006: Приём оплаты через кассира

**Акторы:** Кассир  
**Цель:** Зафиксировать оплату заказа через кассу  
**Предусловия:** -  

**Основной сценарий:**
1. Кассир находит заказ по номеру телефона/ID
2. Принимает наличные или карту
3. Подтверждает оплату в системе
4. Система обновляет статус заказа

**Альтернативные сценарии:**
- Заказ не найден: система уведомляет кассира об ошибке поиска

---

## 1.4. Модуль работы мойщика

### UC-007: Просмотр задач на день

**Акторы:** Мойщик  
**Цель:** Получить список назначенных заказов на текущий день  
**Предусловия:** Мойщик авторизован в системе  

**Основной сценарий:**
1. Мойщик авторизуется в системе
2. Система показывает список назначенных заказов
3. Мойщик видит детали каждого заказа

**Альтернативные сценарии:**
- На текущий день нет заказов: система отображает соответствующее сообщение

---

### UC-008: Отметка о выполнении работы

**Акторы:** Мойщик  
**Цель:** Зафиксировать начало и окончание работы над заказом  
**Предусловия:** -  

**Основной сценарий:**
1. Мойщик отмечает начало работы над заказом
2. По завершении отмечает окончание работы
3. Система обновляет статус заказа
4. Клиент получает уведомление о завершении

**Альтернативные сценарии:**
- Заказ требует дополнительных работ: мойщик добавляет комментарий к заказу

---

## 1.5. Модуль аналитики

### UC-009: Просмотр статистики

**Акторы:** Директор  
**Цель:** Получить аналитическую информацию о работе моек  
**Предусловия:** Директор авторизован в системе  

**Основной сценарий:**
1. Директор выбирает период для анализа
2. Система показывает ключевые метрики:
   - Количество заказов
   - Выручка
   - Загрузка моек
   - Рейтинги мойщиков
3. Система предоставляет возможность выгрузки в CSV

**Альтернативные сценарии:**
- Нет данных за выбранный период: система уведомляет об этом директора

---

### UC-010: Прогнозирование нагрузки

**Акторы:** Директор  
**Цель:** Получить прогноз загрузки моек для эффективного управления ресурсами  
**Предусловия:** -  

**Основной сценарий:**
1. Система анализирует исторические данные и погоду
2. Формирует прогноз нагрузки на ближайшие дни
3. Предоставляет рекомендации по управлению ресурсами

**Альтернативные сценарии:**
- Недостаточно данных для анализа: система уведомляет об этом директора

---

## 1.6. Модуль управления клиентами

### UC-011: Управление VIP/чёрным списком

**Акторы:** Директор  
**Цель:** Управление статусами клиентов для предоставления привилегий или ограничений  
**Предусловия:** -  

**Основной сценарий:**
1. Директор просматривает историю клиента
2. Добавляет клиента в VIP или чёрный список
3. Система применяет соответствующие ограничения/привилегии

**Альтернативные сценарии:**
- Клиент уже находится в одном из списков: система предлагает изменить статус

---

### UC-012: Обработка жалоб

**Акторы:** Клиент, Директор  
**Цель:** Решить проблему клиента и учесть feedback для улучшения качества услуг  
**Предусловия:** -  

**Основной сценарий:**
1. Клиент оставляет жалобу с фото
2. Система уведомляет директора
3. Директор принимает меры (возврат, скидка и т.д.)
4. Система обновляет рейтинг мойщика

**Альтернативные сценарии:**
- Жалоба не обоснована: директор отклоняет жалобу с комментарием
